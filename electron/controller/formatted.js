// const dias = [
//   {
//     id: "243d2023-b1cc-4574-97fe-f4fd3cf9a8d9",
//     name: "2-septiembre-25",
//     page: "sender",
//     coins: 55,
//     usd: 0,
//     euro: 6.05,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "c9fc4687-d52c-40a6-9b28-69232c929fa8",
//     name: "2-septiembre-25",
//     page: "dirty",
//     coins: 0,
//     usd: 11,
//     euro: 0,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "a14b6c66-d1d3-477d-9d84-5a08ca8fba76",
//     name: "2-septiembre-25",
//     page: "vx",
//     coins: 0,
//     usd: 0,
//     euro: 6,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "9145c9c2-be99-42a3-8882-b2bae9d564a2",
//     name: "2-septiembre-25",
//     page: "adultwork",
//     coins: 0,
//     usd: 0,
//     euro: 0,
//     gbp: 10,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "2e25d122-a89f-474f-835e-04c4a89f1931",
//     name: "2-septiembre-25",
//     page: "live7",
//     coins: 0,
//     usd: 0,
//     euro: 4.55,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "1e21b3f2-b95f-43cd-896f-f4d14dcda1f7",
//     name: "2-septiembre-25",
//     page: "descuentos",
//     coins: 0,
//     usd: 0,
//     euro: 0,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 30000,
//     worked: false,
//   },
//   {
//     id: "243d2023-b1cc-4574-97fe-f4fd3cf9a8d9",
//     name: "1-septiembre-25",
//     page: "sender",
//     coins: 45,
//     usd: 0,
//     euro: 4.95,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "c9fc4687-d52c-40a6-9b28-69232c929fa8",
//     name: "1-septiembre-25",
//     page: "dirty",
//     coins: 0,
//     usd: 10,
//     euro: 0,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "a14b6c66-d1d3-477d-9d84-5a08ca8fba76",
//     name: "1-septiembre-25",
//     page: "vx",
//     coins: 0,
//     usd: 0,
//     euro: 5,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "9145c9c2-be99-42a3-8882-b2bae9d564a2",
//     name: "1-septiembre-25",
//     page: "adultwork",
//     coins: 0,
//     usd: 0,
//     euro: 0,
//     gbp: 0,
//     gbpParcial: 10,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "9145c9c2-be99-42a3-8882-b2bae9d564a2",
//     name: "1-septiembre-25",
//     page: "adultwork",
//     coins: 0,
//     usd: 0,
//     euro: 0,
//     gbp: 20,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "2e25d122-a89f-474f-835e-04c4a89f1931",
//     name: "1-septiembre-25",
//     page: "live7",
//     coins: 0,
//     usd: 0,
//     euro: 3.55,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "1e21b3f2-b95f-43cd-896f-f4d14dcda1f7",
//     name: "1-septiembre-25",
//     page: "descuentos",
//     coins: 0,
//     usd: 0,
//     euro: 0,
//     gbp: 0,
//     gbpParcial: 0,
//     mostrar: false,
//     adelantos: 20000,
//     worked: false,
//   },
//   {
//     id: "9145c9c2-be99-42a3-8882-b2bae9d564a2",
//     name: "3-septiembre-25",
//     page: "adultwork",
//     coins: 0,
//     usd: 0,
//     euro: 0,
//     gbp: 20,
//     gbpParcial: 2,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "9145c9c2-be99-42a3-8882-b2bae9d564a2",
//     name: "4-septiembre-25",
//     page: "adultwork",
//     coins: 0,
//     usd: 0,
//     euro: 0,
//     gbp: 2,
//     gbpParcial: 5,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
//   {
//     id: "9145c9c2-be99-42a3-8882-b2bae9d564a2",
//     name: "5-septiembre-25",
//     page: "adultwork",
//     coins: 0,
//     usd: 0,
//     euro: 0,
//     gbp: 0,
//     gbpParcial: 6,
//     mostrar: false,
//     adelantos: 0,
//     worked: true,
//   },
// ];
// const paginas = [
//   {
//     id: "c2f3df86-ade1-415d-9785-da296c5720d9",
//     name: "sender",
//     coins: true,
//     valorCoins: 0.11,
//     moneda: "EURO",
//     mensual: true,
//     tope: 0,
//     descuento: 0,
//   },
//   {
//     id: "00af9896-8c9f-4ad3-93cf-8701270cf1fa",
//     name: "dirty",
//     coins: false,
//     valorCoins: 0,
//     moneda: "USD",
//     mensual: true,
//     tope: 50,
//     descuento: 0,
//   },
//   {
//     id: "3c620ba9-ab3b-4383-ac81-7e0cd1d52646",
//     name: "vx",
//     coins: false,
//     valorCoins: 0,
//     moneda: "EURO",
//     mensual: true,
//     tope: 0,
//     descuento: 0,
//   },
//   {
//     id: "15a505e7-0d40-4abc-bfe3-eecb9616d66b",
//     name: "adultwork",
//     coins: false,
//     valorCoins: 0,
//     moneda: "GBP",
//     mensual: false,
//     tope: 0,
//     descuento: 0.699947813268342,
//   },
//   {
//     id: "23c069c2-f04b-4ada-8c80-bce69ef3428e",
//     name: "live7",
//     coins: false,
//     valorCoins: 0,
//     moneda: "EURO",
//     mensual: true,
//     tope: 0,
//     descuento: 0,
//   },
//   {
//     id: "08f3f49f-f246-4f92-a5a3-67837b2e4f18",
//     name: "descuentos",
//     coins: false,
//     valorCoins: 0,
//     moneda: "COP",
//     mensual: false,
//     tope: 0,
//     descuento: 0,
//   },
// ];
// // convertir string a fecha
// const parseFecha = (str) => {
//   const [dia, mesStr, anioStr] = str.split("-");
//   const meses = {
//     enero: 0,
//     febrero: 1,
//     marzo: 2,
//     abril: 3,
//     mayo: 4,
//     junio: 5,
//     julio: 6,
//     agosto: 7,
//     septiembre: 8,
//     octubre: 9,
//     noviembre: 10,
//     diciembre: 11,
//   };
//   return new Date(2000 + parseInt(anioStr), meses[mesStr], parseInt(dia));
// };

// // buscar el día anterior más cercano en qf
// const getDiaAnterior = (qf, fechaActual) => {
//   const fecha = parseFecha(fechaActual);
//   for (let i = qf.length - 1; i >= 0; i--) {
//     const fechaQf = parseFecha(qf[i].name);
//     if (fechaQf < fecha) {
//       return qf[i]; // devolvemos el primero anterior encontrado
//     }
//   }
//   return null;
// };

// // ordenar
// dias.sort((a, b) => parseFecha(a.name) - parseFecha(b.name));

// const qf = [];

// for (const dia of dias) {
//   const anterior = getDiaAnterior(qf, dia.name);
//   // buscamos si ya existe un objeto para ese día
//   let df = qf.find((d) => d.name === dia.name);

//   // si no existe, lo creamos
//   if (!df) {
//     df = { name: dia.name, worked: false };
//     qf.push(df);
//   }

//   if (dia.worked) {
//     df.worked = true;
//   }

//   // buscamos el nombre de la página
//   const pag = paginas.find((p) => p.name === dia.page);
//   if (!pag) continue;

//   // inicializamos la página en df si no existe
//   if (!df[dia.page]) {
//     df[dia.page] = {};
//   }

//   //revisamos si tiene coins
//   if (pag.coins) {
//     df[dia.page].coinsTotal = dia.coins;
//     if (
//       anterior &&
//       anterior[dia.page] &&
//       anterior[dia.page].coinsTotal !== undefined
//     ) {
//       df[dia.page].coinsDia = dia.coins - anterior[dia.page].coinsTotal;
//     }
//   }

//   // validamos las monedas
//   if (pag.moneda === "USD") {
//     df[dia.page].usdTotal = dia.usd;
//     if (
//       anterior &&
//       anterior[dia.page] &&
//       anterior[dia.page].usdTotal !== undefined
//     ) {
//       df[dia.page].usdDia = dia.usd - anterior[dia.page].usdTotal;
//     }
//   } else if (pag.moneda === "EURO") {
//     df[dia.page].euroTotal = dia.euro;
//     if (
//       anterior &&
//       anterior[dia.page] &&
//       anterior[dia.page].euroTotal !== undefined
//     ) {
//       df[dia.page].euroDia = dia.euro - anterior[dia.page].euroTotal;
//     }
//   } else if (pag.moneda === "GBP") {
//     if (dia.gbpParcial > 0) {
//       df[dia.page].gbpParcial = dia.gbpParcial;
//     }
//     df[dia.page].gbp = dia.gbp;
//   } else if (pag.moneda === "COP") {
//     df[dia.page].adelantosDia = dia.adelantos;
//     if (
//       anterior &&
//       anterior[dia.page] &&
//       anterior[dia.page].adelantosTotal !== undefined
//     ) {
//       df[dia.page].adelantosTotal = dia.adelantos + anterior[dia.page].adelantosTotal;
//     }else {
//       df[dia.page].adelantosTotal = dia.adelantos;
//     }
//   }

//   // revisamos si tiene topes
//   if (pag.tope > 0) {
//     df[dia.page].mostrar = dia.mostrar;
//   }
// }

// // console.log(JSON.stringify(qf, null, 2));
// function limpiarAdultwork(data) {
//   let hayGbp = false;
//   let hayGbpParcial = false;

//   for (let i = data.length - 1; i >= 0; i--) {
//     const day = data[i];
//     if (!day.adultwork) continue;

//     const { gbp, gbpParcial } = day.adultwork;

//     // Caso 1: hay gbp
//     if (gbp !== undefined && gbp !== 0) {
//       // Si no es el último día y tiene gbpParcial, se elimina
//       if (i !== data.length - 1 && gbpParcial !== undefined && gbpParcial !== 0) {
//         delete day.adultwork.gbpParcial;
//       }
//       hayGbp = true;
//       hayGbpParcial = false;
//     }

//     // Caso 2: hay gbpParcial
//     else if (gbpParcial !== undefined && gbpParcial !== 0) {
//       if (hayGbp || hayGbpParcial) {
//         // Si hay algo más nuevo adelante, se elimina
//         delete day.adultwork.gbpParcial;
//       } else {
//         // Conservamos el último gbpParcial
//         hayGbpParcial = true;
//       }
//     }
//   }

//   return data;
// }

// const qfLimpio = limpiarAdultwork(qf);
// console.log(qf);
